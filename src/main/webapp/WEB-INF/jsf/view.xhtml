<?xml version='1.0' encoding='UTF-8' ?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->

<ui:decorate template="template.xhtml" xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://java.sun.com/jsf/html"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:a4j="http://richfaces.org/a4j"
             xmlns:gtn="http://www.jboss.org/gatein"
             xmlns:rich="http://richfaces.org/rich">

    <ui:define name="content">



        <a4j:form id="register" ajaxSubmit="true">

            <rich:panel style="width:60%" id="rigister-panel">
                <f:facet name="header">
                    <h:outputText value="Create new staff" style="text-align: center" />
                </f:facet>

                <br/>
                <br/>

                <fieldset>
                    <legend align="left"> Required Data </legend>

                    <br/>

                    <table cellpadding="5" cellspacing="5" width="60%">
                        <tbody>
                            <tr>
                                <td>
                                    <div class="bubbleInfo">
                                        <table class="popup" cellpadding="0" cellspacing="0">
                                            <tbody>
                                                <tr>
                                                    <td id="topleft" class="corner"></td>
                                                    <td class="top"></td>
                                                    <td id="topright" class="corner"></td>
                                                </tr>

                                                <tr>
                                                    <td class="left"></td>
                                                    <td>
                                                        <table class="popup-contents"  cellpadding="0" cellspacing="0">
                                                            <tbody>
                                                                <tr id="release-notes">
                                                                    <th>&#160;</th>
                                                                    <td>
                                                            <rich:message for="firstname" errorClass="error" infoClass="success" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                </td>
                                <td class="right"></td>
                            </tr>

                            <tr>
                                <td class="corner" id="bottomleft"></td>
                                <td class="bottom">
                                    <img src="#{facesContext.externalContext.requestContextPath}/images/bubble/bubble-bottom-middle.png" width="30" height="29" alt="popup tail" />
                                </td>
                                <td id="bottomright" class="corner"></td>
                            </tr>
                        </tbody>
                    </table>
                    <br/>
                    <div>
                        <h:inputText value="#{registerBean.data['firstname']}" id="firstname" title="First name" required="true"
                                     label="First name" size="30" immediate="true" requiredMessage="Value is required" alt="First name"
                                     styleClass="trigger" validator="inputTextValidator" >
                            <rich:ajaxValidator event="onblur" reRender="firstname" />
                        </h:inputText>
                    </div>
                    </div>
                    </td>
                    <td>
                        <div class="bubbleInfo">
                            <table class="popup" cellpadding="0" cellspacing="0">
                                <tbody>
                                    <tr>
                                        <td id="topleft" class="corner"></td>
                                        <td class="top"></td>
                                        <td id="topright" class="corner"></td>
                                    </tr>

                                    <tr>
                                        <td class="left"></td>
                                        <td>
                                            <table class="popup-contents"  cellpadding="0" cellspacing="0">
                                                <tbody>
                                                    <tr id="release-notes">
                                                        <th>&#160;</th>
                                                        <td>
                                                <rich:message for="lastname" errorClass="error" infoClass="success" />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                    </td>
                    <td class="right"></td>
                    </tr>

                    <tr>
                        <td class="corner" id="bottomleft"></td>
                        <td class="bottom">
                            <img src="#{facesContext.externalContext.requestContextPath}/images/bubble/bubble-bottom-middle.png" width="30" height="29" alt="popup tail" />
                        </td>
                        <td id="bottomright" class="corner"></td>
                    </tr>
                    </tbody>
                    </table>
                    <br/>
                    <div>

                        <h:inputText value="#{registerBean.data['lastname']}" id="lastname" title="Last name" required="true"
                                     label="Last name" size="30" immediate="true" requiredMessage="Value is required" alt="Last name"
                                     styleClass="trigger" validator="inputTextValidator">
                            <rich:ajaxValidator event="onblur" reRender="lastname" />
                        </h:inputText>
                    </div>
                    </div>

                    </td>
                    </tr>
                    </tbody>
                    </table>






                    <br />
                    <h:panelGrid columns="2" cellpadding="5" cellspacing="5" width="60%" >


                        <h:inputText value="#{registerBean.data['email']}" id="email" required="true" size="30" requiredMessage="Value is required"
                                     label="Email"  validator="emailValidator" >
                            <rich:ajaxValidator event="onblur"/>
                        </h:inputText>
                        <h:inputText value="#{registerBean.data['username']}" id="username" required="true" label="User name" size="30"
                                     requiredMessage="Value is required">
                            <rich:ajaxValidator event="onblur"/>
                        </h:inputText>

                        <rich:message for="email" errorClass="error" infoClass="success" />
                        <rich:message for="username" errorClass="error" infoClass="success" />

                        <h:inputSecret value="#{registerBean.data['password']}" id="password" required="true" size="30" requiredMessage="Value is required"
                                       label="Password" >
                            <rich:ajaxValidator event="onblur"/>
                        </h:inputSecret>
                        <h:inputSecret value="#{registerBean.data['confirmPassword']}" id="confirmPassword" required="true" size="30" requiredMessage="Value is required"
                                       label="Confirm password" validator="passwordValidator">
                            <rich:ajaxValidator event="onblur">
                                <f:param name="password" value="#{rich:findComponent('register:password').value}" />
                            </rich:ajaxValidator>
                        </h:inputSecret>

                        <rich:message for="password" errorClass="error" infoClass="success" />
                        <rich:message for="confirmPassword" errorClass="error" infoClass="success" />

                        <h:inputText value="#{registerBean.data['captcha.answer']}" id="answer" required="true"
                                     requiredMessage="Value is required" label="Code" size="30" validator="captchaValidator">
                            <rich:ajaxValidator event="onblur"/>
                        </h:inputText>

                        <rich:message for="answer" errorClass="error" infoClass="success" />
                    </h:panelGrid>
                </fieldset>

                <br/>
                <br/>

                <a4j:outputPanel id="hide" styleClass="viewsourcelooklink" style="display:none; float: left;">
                    <rich:effect for="hide" event="onclick" type="BlindUp" targetId="moreOptionsPanel" params="id:'moreOptionsPanel', duration:1.0" />
                    <rich:effect for="hide" event="onclick" type="Appear" targetId="look" params="delay:1.5, duration:0.5" />
                    <rich:effect for="hide" event="onclick" type="Fade" targetId="hide" params="delay:0.0, duration:0.1" />
                    <h:outputText escape="false" style="color: #045491;font-weight : bold;" value="Hide..."/>
                </a4j:outputPanel>
                <a4j:outputPanel styleClass="viewsourcelooklink" id="look" style="float: left">
                    <rich:effect for="look" event="onclick" type="Fade" params="delay:0.0, duration:0.1" disableDefault="true"/>
                    <rich:effect for="look" event="onclick" type="BlindDown" targetId="moreOptionsPanel" params="delay:0.1,duration:1.0,from:0.0,to:1.0"/>
                    <rich:effect for="look" event="onclick" type="Appear"  targetId="moreOptionsPanel"  params="delay:0.1,duration:0.5,from:0.0,to:1.0" />
                    <rich:effect for="look" event="onclick" type="Appear"  targetId="hide"  params="delay:1.5,duration:1.0,from:0.0,to:1.0" />
                    <h:outputText escape="false" style="color: #045491;font-weight : bold;" value="More..."/>
                </a4j:outputPanel>

                <br/>
                <br/>

                <rich:panel id="moreOptionsPanel" style="display:none">
                    <fieldset>
                        <legend align="left"> Optional Data </legend>

                        <h:panelGrid columns="2" cellpadding="5" cellspacing="5" width="100%">
                            <h:selectOneMenu value="#{registerBean.data['title']}" id="title">
                                <f:selectItem itemValue="Mr" itemLabel="Mr" />
                                <f:selectItem itemValue="Mrs" itemLabel="Mrs" />
                                <f:selectItem itemValue="Ms" itemLabel="Ms" />
                            </h:selectOneMenu>

                            <h:outputLabel for="calendar" value="Birthday" />
                            <h:inputText value="#{registerBean.data['address.line1']}" size="30" />
                            <a4j:outputPanel id="calendar" layout="block">
                                <rich:calendar value="#{calendarBean.selectedDate}"
                                               locale="#{calendarBean.locale}"
                                               popup="#{calendarBean.popup}"
                                               datePattern="#{calendarBean.pattern}"
                                               showApplyButton="#{calendarBean.showApply}" cellWidth="24px" cellHeight="22px" style="width:220px"/>
                            </a4j:outputPanel>

                            <h:inputText value="#{registerBean.data['address.line2']}" size="30" />
                            <h:inputText value="#{registerBean.data['twitter']}" size="30" />

                            <h:panelGroup>
                                <h:inputText id="zipCode" value="#{registerBean.data['address.zipCode']}" size="8"
                                             converterMessage="The input must be an Integer" validatorMessage="The input value must be between {0} {1}">
                                    <f:converter id="javax.faces.Integer" converterId="javax.faces.Integer"/>
                                    <f:validateLongRange minimum="1" maximum="1000000" />
                                    <rich:ajaxValidator event="onblur"/>
                                </h:inputText>
                                <h:inputText value="#{registerBean.data['address.city']}" size="15" />
                            </h:panelGroup>
                            <h:inputText value="#{registerBean.data['skype']}" size="30" />

                            <rich:message for="zipCode" errorClass="error" infoClass="success" />
                            <rich:spacer />

                            <h:inputText value="#{registerBean.data['address.state']}" size="30" />
                            <h:inputText value="#{registerBean.data['msn']}" size="30" />

                            <h:selectOneMenu value="#{registerBean.data['address.country']}">
                                <f:selectItems value="#{appBean.counties}" />
                            </h:selectOneMenu>
                            <h:inputText value="#{registerBean.data['linkedIn']}" size="30" />

                            <h:inputText value="#{registerBean.data['phone']}" size="30" />
                            <h:inputText value="#{registerBean.data['icq']}" size="30" />

                        </h:panelGrid>
                    </fieldset>
                </rich:panel>

                <br/>
                <br/>
                <a4j:commandButton value="Submit" />
                <a4j:commandButton value="Cancel" />
            </rich:panel>
        </a4j:form>

        <script type="text/javascript">

            function showHide(divId) {
                var element  = document.getElementById(divId);
                var display = element.style.display;
                if(display == "none") {
                    display = "inline";
                    document.getElementById("optionsId").innerHTML = "hide...";
                } else {
                    display = "none";
                    document.getElementById("optionsId").innerHTML = "more...";
                }

                element.style.display = display;

                return true;
            }


            function style(element) {
                var alt = element.alt;
                var value = element.value;
                if(alt == value) {
                    element.className = "inputClass1";
                } else {
                    element.className = "inputClass2";
                }
            }


            function getFocus(inputId) {
                var input = document.getElementById(inputId);
                if(input.value == input.title) {
                    input.value = "";
                }
            }

            function lostFocus(inputId) {
                var input = document.getElementById(inputId);
                if(input.value == "") {
                    input.value = input.title;
                }
            }

        </script>

    </ui:define>

</ui:decorate>